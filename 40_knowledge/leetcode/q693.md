---
title: q693. Binary Number with Alternating Bits / 交替位元的二進位數
note_type: knowledge
domain: leetcode
tags: [leetcode, knowledge]
created: 2026-02-18
updated: 2026-02-18
status: active
source: leetcode
difficulty: Easy
complexity_time: O(1)
complexity_space: O(1)
review_interval_days: 14
next_review: 2026-03-04
---
# q693. Binary Number with Alternating Bits / 交替位元的二進位數
[693. Binary Number with Alternating Bits](https://leetcode.com/problems/binary-number-with-alternating-bits/)

Easy

Topics

Companies

Given a positive integer, check whether it has alternating bits: namely, if two adjacent bits always have different values.
給定一個正整數，請檢查它的二進位表示是否為交替位元：也就是任兩個相鄰 bit 都必須不同。

**Example 1:**

**Input:** n = 5
**Output:** true
**Explanation:** The binary representation of 5 is `101`, where adjacent bits alternate.
**說明：** `5` 的二進位是 `101`，相鄰位元皆不同，符合交替條件。

**Example 2:**

**Input:** n = 7
**Output:** false
**Explanation:** The binary representation of 7 is `111`, which has equal adjacent bits.
**說明：** `7` 的二進位是 `111`，出現相鄰位元相同，因此不符合。

**Example 3:**

**Input:** n = 11
**Output:** false
**Explanation:** The binary representation of 11 is `1011`, and the last two bits are both `1`.
**說明：** `11` 的二進位是 `1011`，最後兩個位元同為 `1`，因此不符合。

**Constraints:**

- `1 <= n <= 2^31 - 1`
- `1 <= n <= 2^31 - 1`。

## 解題筆記與程式碼

通用演算法筆記：[bitwise_xor_adjacent_bit_check](../algorithm/bitwise_xor_adjacent_bit_check.md)
資料結構筆記：[fixed_width_bitmask_integer](../data_structure/fixed_width_bitmask_integer.md)

### 思路拆解

- 若 `n` 的相鄰位元都不同，則把 `n` 與 `n >> 1` 做 XOR 後，會得到形如 `111...111` 的連續 1。
- 令 `x = n ^ (n >> 1)`，問題就轉成「`x` 是否為全 1 形式」。
- 判斷一個數是否為全 1（如 `1, 3, 7, 15`）可用條件：`x & (x + 1) == 0`。

### 為什麼 `x & (x + 1) == 0` 可行

- 若 `x = 2^k - 1`，其二進位是 `k` 個連續 1。
- `x + 1` 會變成 `1` 後面接 `k` 個 `0`。
- 兩者 AND 必為 `0`。

### 演算法

1. 計算 `x = n ^ (n >> 1)`。
2. 回傳 `(x & (x + 1)) == 0`。

### 時間與空間

- 時間：`O(1)`（固定字長下為常數時間）。
- 空間：`O(1)`。

```rust
impl Solution {
    pub fn has_alternating_bits(n: i32) -> bool {
        let x = (n as u32) ^ ((n as u32) >> 1);
        (x & (x + 1)) == 0
    }
}
```

## Related problems / 相關題目

- [q190](./q190.md)
- [191. Number of 1 Bits](https://leetcode.com/problems/number-of-1-bits/)
- [231. Power of Two](https://leetcode.com/problems/power-of-two/)
- [338. Counting Bits](https://leetcode.com/problems/counting-bits/)
