# Secret Propagation with Time-Batched DSU Reset

目標：在多場標記時間的會議中，找出最終知道祕密的人。祕密在同一時間內能立即傳遞，但跨時間只能沿著當下已有祕密的連通塊擴散。

## 核心觀察

- 同一時間的會議是同步的：只要批次內有人知道祕密，整個時間批的連通塊都能收到祕密。
- 但若該連通塊沒有接到祕密，這些連結不應影響未來時間，必須在離開該時間點前切斷。
- 並查集適合描述「同批會議形成的連通分量」，在批次內 union 完，再把未連到祕密根節點的節點 reset 回獨立。

## 演算法步驟

1. 將會議依時間排序。初始化 DSU，先 union 節點 `0` 與 `firstPerson`（時間 0 的分享）。
2. 逐批處理「同一時間」的會議：
   - 收集該批的所有邊與涉入的節點集合 `V`。
   - 將批次內邊全部 union，讓祕密可在本批同步傳播。
   - 取 `root0 = find(0)`，對 `V` 內的節點檢查；若與 `root0` 不同，表示本批沒收到祕密，對該節點執行 reset（parent 指回自己，size=1）。
3. 全部批次處理後，答案為所有與 `0` 同組的節點。

## 複雜度

- 時間：`O(m α(n))`，`m` 為會議數，排序 `O(m log m)` 可接受。
- 空間：`O(n)`，並查集與批次涉入節點集合。

## 實作細節

- reset 只對「該批有參與的節點」執行，避免破壞其他時間已建立的祕密連結。
- `HashSet` 去重收集涉入節點，確保 reset 的時間與空間開銷合理。
- 由於祕密在同一時間即時傳遞，必須先 union 本批全部邊，再判斷哪些分量真正拿到祕密。***
